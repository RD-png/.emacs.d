:PROPERTIES:
:ID:       04392f45-daa8-4614-81cc-f38843fe164a
:END:
#+title: Laravel-Response
* Response Objects
We can use laravels Response class to format our responses, for example we pass back the string 'Hello World'
#+begin_src php
  return response('Hello World', 200)
      ->header('Content-Type', 'text/plain');
#+end_src
Where we set the headers of the response to determine what the user receives

** Eloquent Models
When we return an eloquent model, laravel will automatically convert the object to JSON and respect the settings we have defined in its model class, for example hidden attributes etc will not be included in the response.

** Cookies
We can attach cookies with a response using the following syntax
#+begin_src php
  return response('Hello World')->cookie(
    'name', 'value', $minutes
);
#+end_src

** JSON Response
If we are returning a response that is not an eloquent model, for instance a random data object we has constructed inside a function, we can return the result as a JSON using the following syntax
#+begin_src php
return response()->json([
    'name' => 'Abigail',
    'state' => 'CA',
]);
#+end_src

** Download
We can pass back files stored on the application as a download response, this will trigger the browser to ask the user if they wish to download the file
#+begin_src php
  return response()->download($pathToFile);
#+end_src

